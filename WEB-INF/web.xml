<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.0"
  xmlns="http://java.sun.com/xml/ns/javaee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
 
   <!-- To save as "almalaurea\WEB-INF\web.xml" -->
 
   <servlet>
      <description>Servlet centrale dell'applicazione Almalaurea</description>        
      <servlet-name>main</servlet-name>
      <servlet-class>it.alma.Main</servlet-class>
   </servlet>
 
    <servlet>
      <description>Servlet per la gestione delle sessioni utente</description>
      <servlet-name>session</servlet-name>
      <servlet-class>it.alma.SessionManager</servlet-class>
   </servlet>
 
   <!-- Note: All <servlet> elements MUST be grouped together and
         placed IN FRONT of the <servlet-mapping> elements -->
 
   <servlet-mapping>
      <servlet-name>main</servlet-name>
      <url-pattern>/</url-pattern>
   </servlet-mapping>
 
   <servlet-mapping>
      <servlet-name>session</servlet-name>
      <url-pattern>/auth</url-pattern>
   </servlet-mapping>
   
   <servlet-mapping>
      <servlet-name>default</servlet-name>
      <url-pattern>/web/*</url-pattern>
   </servlet-mapping>

    <context-param>
        <description>Pagina di errore a cui redirigere in caso venga sollevata un'eccezione</description>
        <param-name>errorJsp</param-name>
        <param-value>/jsp/error.jsp</param-value>
    </context-param>

    <context-param>
        <description></description>
        <param-name>home</param-name>
        <param-value>home</param-value>
    </context-param>

    <context-param>
        <description>Assembla tutte le pagine che servono normale html</description>
        <param-name>templateJsp</param-name>
        <param-value>/jsp/template.jsp</param-value>
    </context-param>

    <context-param>
        <description></description>
        <param-name>entToken</param-name>
        <param-value>q</param-value>
    </context-param>

    <context-param>
        <description></description>
        <param-name>idToken</param-name>
        <param-value>id</param-value>
    </context-param>

    <context-param>
        <description>Directory fogli stile di POL   ../web/style/</description>
        <param-name>urlDirectoryStili</param-name>
        <param-value>web/style/</param-value>
    </context-param>
    
    <context-param>
        <description>Directory script client di POL   ../web/js/</description>
        <param-name>urlDirectoryScript</param-name>
        <param-value>web/js/</param-value>
    </context-param>
    
    <context-param>
        <description>Directory immagini di POL   ../web/img/</description>
        <param-name>urlDirectoryImmagini</param-name>
        <param-value>web/img/</param-value>
    </context-param>
    
    <context-param>
        <description>Root dell'applicazione</description>
        <param-name>appName</param-name>
        <param-value>/almalaurea</param-value>
    </context-param>

    <resource-ref>
        <description>
            Resource reference to a factory for java.sql.Connection
            instances that may be used for talking to a particular
            database that is configured in the context.xml file.
        </description>
        <res-ref-name>
            jdbc/poldev
        </res-ref-name>
        <res-type>
            javax.sql.DataSource
        </res-type>
        <res-auth>
            Container
        </res-auth>
    </resource-ref>
    
    <resource-ref>
        <description>
            Resource reference to a factory for java.sql.Connection
            instances that may be used for talking to a particular
            database that is configured in the context.xml file.
        </description>
        <res-ref-name>
            jdbc/pol
        </res-ref-name>
        <res-type>
            javax.sql.DataSource
        </res-type>
        <res-auth>
            Container
        </res-auth>
    </resource-ref>
    
    <resource-ref>
        <description>
            Resource reference to a factory for java.sql.Connection
            instances that may be used for talking to a particular
            database that is configured in the context.xml file.
        </description>
        <res-ref-name>
            jdbc/univr
        </res-ref-name>
        <res-type>
            javax.sql.DataSource
        </res-type>
        <res-auth>
            Container
        </res-auth>
    </resource-ref>
</web-app>