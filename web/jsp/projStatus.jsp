<%@ include file="pcURL.jspf" %><%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"  %><form id="status_form" action="#" method="post">  <br />  <c:choose>    <c:when test="${not empty ps}">    <h2 align="center">      Progetto:&nbsp;<strong><c:out value="${p.titolo}" /></strong>    </h2>    <hr class="separatore" />      <div class="form-row">        <div class="col">          <input type="hidden" id="sId" name="sId" value="${ps.id}" />          <div class="form-row">            <div class="col-1">Dal</div>            <div class="col-3">              <input type="text" class="form-control calendarData" id="sDataInizio" name="sDataInizio" value="<fmt:formatDate value="${ps.dataInizio}" pattern="dd/MM/yyyy" />" readonly>            </div>            <div class="col-1">Al</div>            <div class="col-3">              <input type="text" class="form-control calendarData" id="sDataFine" name="sDataFine" value="<fmt:formatDate value="${ps.dataFine}" pattern="dd/MM/yyyy" />" readonly>            </div>          </div>          <hr class="separatore" />          <div class="form-row">            <div class="col-3">Descrizione avanzamento</div>            <div class="col">              <textarea class="form-control" name="sAvanzamento" maxlength="16384" readonly>${ps.descrizioneAvanzamento}</textarea>              <div class="charNum"></div>            </div>          </div>          <hr class="separatore" />          <div class="form-row">            <div class="col">Stato costi</div>            <div class="col">Stato tempi</div>            <div class="col">Stato rischi</div>          </div>          <div class="form-row">            <div class="col">              <select class="form-control" id="sCosti" name="sCosti" disabled>                <option value="${ps.stati['StatoCosti'].id}" selected>${ps.stati['StatoCosti'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>            <div class="col">              <select class="form-control" id="sTempi" name="sTempi" disabled>                <option value="${ps.stati['StatoTempi'].id}" selected>${ps.stati['StatoTempi'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>            <div class="col">              <select class="form-control" id="sRischi" name="sRischi" disabled>                <option value="${ps.stati['StatoRischi'].id}" selected>${ps.stati['StatoRischi'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>          </div>          <div class="form-row">            <div class="col">Stato risorse</div>            <div class="col">Stato scope</div>            <div class="col">Stato comunicazione</div>          </div>          <div class="form-row">            <div class="col">              <select class="form-control" id="sRisorse" name="sRisorse" disabled>                <option value="${ps.stati['StatoRisorse'].id}" selected>${ps.stati['StatoRisorse'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>            <div class="col">              <select class="form-control" id="sScope" name="sScope" disabled>                <option value="${ps.stati['StatoScope'].id}" selected>${ps.stati['StatoScope'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>            <div class="col">              <select class="form-control" id="sComunicazione" name="sComunicazione" disabled>                <option value="${ps.stati['StatoComunicazione'].id}" selected>${ps.stati['StatoComunicazione'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>          </div>          <div class="form-row">            <div class="col">Stato qualit&agrave;</div>            <div class="col">Stato approvvigionamenti</div>            <div class="col">Stato stakeholder</div>          </div>          <div class="form-row">            <div class="col">              <select class="form-control" id="sQualita" name="sQualita" disabled>                <option value="${ps.stati['StatoQualita'].id}" selected>${ps.stati['StatoQualita'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>            <div class="col">              <select class="form-control" id="sApprovvigionamenti" name="sApprovvigionamenti" disabled>                <option value="${ps.stati['StatoApprovvigionamenti'].id}" selected>${ps.stati['StatoApprovvigionamenti'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>            <div class="col">              <select class="form-control" id="sStakeholder" name="sStakeholder" disabled>                <option value="${ps.stati['StatoStakeholder'].id}" selected>${ps.stati['StatoStakeholder'].nome}</option>                <option value="1">OK</option>                <option value="2">POSSIBILI PROBLEMI</option>                <option value="3">CRITICO</option>              </select>            </div>          </div>        </div>        <div class="form-row">          <div class="col-1"></div>          <div class="col">            <%@ include file="subStatus.jspf" %>          </div>          <div class="col-1"></div>        </div>      </div>    </c:when>    <c:otherwise>      <div class="alert alert-danger">        <strong>Spiacente!</strong> <p>Non &egrave; stato trovato alcun status progetto a te associato con questo identificativo.</p>      </div>       </c:otherwise>  </c:choose>  <hr class="separatore" />  <div class="form-row">    <div class="col-2">        <span class="float-left">        <a class="btn btn-primary" href="${project}${p.id}">Chiudi</a>      </span>    </div>    <div class="col-8 text-center">      <%@ include file="subPanel.jspf" %>    </div>  </div></form>  <script>  	var offsetcharacter = 5;  	$(document).ready(function () {  	  $('#status_form').validate ({  		rules: {  			'sAvanzamento': {  				required: true,  				minlength: offsetcharacter  			},  			'sDataInizio': {  				required: true  			},  			'sDataFine': {  				required: true  			}  		},   		messages: {  			'sAvanzamento': "Please enter the description of project status.",  			'sDataInizio': "Please enter a valid data inizio.",  			'sDataFine': "Please enter a valid data fine."  		},  		submitHandler: function (form) {  			alert('valid form submitted');  			return true;  		}  	  });  	  $('textarea').bind("keyup", {dblength: $(this).maxlength}, function (e) {        var len = $(this).val().length;    	  if(len >= event.data.dblength) {    		  this.value = this.value.substring(0, event.data.dblength);    		  $(this).next('div').text(' you have reached the limit');    	  } else {    		  var chars = event.data.dblength - len;    		  $(this).next('div').text(chars + ' characters left');    	  }  	  });  	});  </script>