<%@ include file="pcURL.jspf" %><%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"  %><div class="row">  <div class="col-9">    <form id="status_form" action="#" method="post">      <br />      <c:choose>        <c:when test="${not empty ps}">        <h2 align="center">          Progetto:&nbsp;<strong><c:out value="${p.titolo}" /></strong>        </h2>        <hr class="separatore" />          <div class="form-row">            <div class="col">              <input type="hidden" id="sts-id" name="sts-id" value="${ps.id}" />              <div class="form-row">                <div class="col-1">Dal</div>                <div class="col-3">                  <input type="text" class="form-control calendarData" id="sts-datainizio" name="sts-datainizio" value="<fmt:formatDate value="${ps.dataInizio}" pattern="dd/MM/yyyy" />" readonly>                </div>                <div class="col-1">Al</div>                <div class="col-3">                  <input type="text" class="form-control calendarData" id="sts-datafine" name="sts-datafine" value="<fmt:formatDate value="${ps.dataFine}" pattern="dd/MM/yyyy" />" readonly>                </div>              </div>              <hr class="separatore" />              <div class="form-row">                <div class="col-3">Descrizione avanzamento</div>                <div class="col">                  <textarea class="form-control" id="sts-avanzamento" name="sts-avanzamento" maxlength="16384" readonly>${ps.descrizioneAvanzamento}</textarea>                  <div class="charNum"></div>                </div>              </div>              <hr class="separatore" />              <div class="form-row">                <div class="col">Stato costi</div>                <div class="col">Stato tempi</div>                <div class="col">Stato rischi</div>              </div>              <div class="form-row">                <div class="col">                  <select class="form-control" id="sts-costi" name="sts-costi" disabled>                    <option value="${ps.stati['StatoCosti'].id}" selected>${ps.stati['StatoCosti'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>                <div class="col">                  <select class="form-control" id="sts-tempi" name="sts-tempi" disabled>                    <option value="${ps.stati['StatoTempi'].id}" selected>${ps.stati['StatoTempi'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>                <div class="col">                  <select class="form-control" id="sts-rischi" name="sts-rischi" disabled>                    <option value="${ps.stati['StatoRischi'].id}" selected>${ps.stati['StatoRischi'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>              </div>              <div class="form-row">                <div class="col">Stato risorse</div>                <div class="col">Stato scope</div>                <div class="col">Stato comunicazione</div>              </div>              <div class="form-row">                <div class="col">                  <select class="form-control" id="sts-risorse" name="sts-risorse" disabled>                    <option value="${ps.stati['StatoRisorse'].id}" selected>${ps.stati['StatoRisorse'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>                <div class="col">                  <select class="form-control" id="sts-scope" name="sts-scope" disabled>                    <option value="${ps.stati['StatoScope'].id}" selected>${ps.stati['StatoScope'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>                <div class="col">                  <select class="form-control" id="sts-comunicazione" name="sts-comunicazione" disabled>                    <option value="${ps.stati['StatoComunicazione'].id}" selected>${ps.stati['StatoComunicazione'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>              </div>              <div class="form-row">                <div class="col">Stato qualit&agrave;</div>                <div class="col">Stato approvvigionamenti</div>                <div class="col">Stato stakeholder</div>              </div>              <div class="form-row">                <div class="col">                  <select class="form-control" id="sts-qualita" name="sts-qualita" disabled>                    <option value="${ps.stati['StatoQualita'].id}" selected>${ps.stati['StatoQualita'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>                <div class="col">                  <select class="form-control" id="sts-approvvigionamenti" name="sts-approvvigionamenti" disabled>                    <option value="${ps.stati['StatoApprovvigionamenti'].id}" selected>${ps.stati['StatoApprovvigionamenti'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>                <div class="col">                  <select class="form-control" id="sts-stakeholder" name="sts-stakeholder" disabled>                    <option value="${ps.stati['StatoStakeholder'].id}" selected>${ps.stati['StatoStakeholder'].nome}</option>                    <c:forEach var="status" items="${requestScope.statiValues}" varStatus="loop">                      <option value="${status.id}">${status.nome}</option>                    </c:forEach>                  </select>                </div>              </div>            </div>          </div>        </c:when>        <c:otherwise>          <div class="alert alert-danger">            <strong>Spiacente!</strong> <p>Non &egrave; stato trovato alcun status progetto a te associato con questo identificativo.</p>          </div>           </c:otherwise>      </c:choose>      <hr class="separatore" />      <div class="form-row">        <div class="col-2">            <span class="float-left">            <a class="btn btn-primary" href="${project}">Chiudi</a>          </span>        </div>        <div class="col text-center">          <%@ include file="subPanel.jspf" %>        </div>      </div>    </form>  </div>  <div class="col-3">    <div class="form-row">      <div class="col-2"></div>      <div class="col">        <%@ include file="subStatus.jspf" %>      </div>      <div class="col-1"></div>    </div>  </div></div>  <script>  	var offsetcharacter = 5;  	$(document).ready(function () {  	  $('#status_form').validate ({  		rules: {  			'sts-avanzamento': {  				required: true,  				minlength: offsetcharacter  			},  			'sts-datainizio': {  				required: true  			},  			'sts-datafine': {  				required: true,  				greaterThan: '#sts-datainizio'  			}  		},   		messages: {  			'sts-avanzamento': "Please enter the description of project status.",  			'sts-datainizio': "Please enter a valid data inizio.",  			'sts-datafine': "Please enter a valid data fine."  		},  		submitHandler: function (form) {  			return true;  		}  	  });  	  $('textarea[maxlength]').keyup(function () {        var len = $(this).val().length;        var dblength = parseInt($(this).attr('maxlength'));    	  if(len >= dblength) {    		  this.value = this.value.substring(0, dblength);    		  $(this).next('div').text(' you have reached the limit');    	  } else {    		  var chars = dblength - len;    		  $(this).next('div').text(chars + ' characters left');    	  }  	  });  	});  </script>